uni_start_stream <00x>
  man_start_object <ind_group, "">
    mat_object_id <40-10796>
    mat_orientation <vff>
    mat_position <center_center>
    mat_bool_modal <yes>
    de_start_extraction <0>
    man_set_context_globalid <40-10737>
    man_set_context_relative <1>
    de_set_data_type <var>
    de_set_variable_id <10>
    de_get_data_pointer
    var_string_set_from_atom <A>
    man_end_context
    man_end_context
    var_string_set <B,"USER.MDM">
    if_stra_eq_strb_then <10, 30>
    fm_start
    fm_set_relative_path <"MPM">
    fm_item_type <filename>
    var_string_get <B>
    uni_use_last_atom_string <fm_item_set>
    fm_item_get <filespec>
    var_string_set_from_atom <A>
    var_string_save <A, 10>
    fm_end
    man_set_context_globalid <40-10737>
    man_set_context_relative <1>
    de_set_data_type <text>
    de_get_data_pointer
    var_string_set_from_atom <E>
    man_end_context
    man_end_context
    var_string_get <E>
    uni_use_last_atom_string <mat_title>
    de_end_extraction
    uni_sync_skip <10>
    fm_start
    fm_item_type <ini_data_type>
    fm_item_set <01x>
    fm_item_type <ini_group>
    fm_item_set <"CUSTOM">
    fm_item_type <ini_key>
    fm_item_set <"ISCUSTOM">
    fm_set_relative_path <"MPM">
    fm_item_type <filename>
    fm_item_set <"MODEM.INI">
    fm_item_get <filespec>
    fm_item_type <ini_file>
    uni_use_last_atom_string <fm_item_set>
    var_string_set_from_atom <D>
    fm_ini_read_data
    uni_save_result
    fm_end
    uni_get_result
    if_last_return_true_then <11>
    async_alert <yes_no, "You already have a Custom Modem Profile.\x7fDo you wish to delete it and copy the current\x7fProfile to the Custom Profile area?">
    if_last_return_false_then <11>
    man_close_update
    man_end_context
  uni_abort_stream
  uni_sync_skip <11>
  fm_start
  fm_set_relative_path <"MPM">
  fm_item_type <filename>
  var_string_get <A>
  uni_use_last_atom_string <fm_item_set>
  fm_item_get <filespec>
  fm_copy_file <"user.mdm">
  fm_item_type <filename>
  var_string_get <B>
  uni_use_last_atom_string <fm_item_set>
  fm_item_get <filespec>
  var_string_set_from_atom <A>
  var_string_save <A, 10>
  fm_item_type <ini_data_type>
  fm_item_set <01x>
  fm_item_type <ini_group>
  fm_item_set <"CUSTOM">
  fm_item_type <ini_key>
  fm_item_set <"ISCUSTOM">
  fm_set_relative_path <"MPM">
  fm_item_type <filename>
  fm_item_set <"MODEM.INI">
  fm_item_get <filespec>
  fm_item_type <ini_file>
  uni_use_last_atom_string <fm_item_set>
  fm_ini_write_data <01x>
  fm_end
  mat_title <"Custom Modem Profile">
  var_string_set_from_atom <E>
  var_string_save <E, 11>
  async_alert <info, "The currently selected profile has been copied to the\x7fCustom Modem Profile for future editing.">
  uni_sync_skip <30>
  man_start_object <org_group, "">
    mat_orientation <hee>
    man_start_object <org_group, "">
      mat_orientation <vff>
      man_start_object <edit_view, "Dial Validation Characters:">
        mat_title_width <30>
        mat_size <20, 1, 80>
        mat_relative_tag <1>
        mat_title_pos <left | center>
        mat_bool_writeable <yes>
        fm_start
        fm_item_type <ini_data_type>
        fm_item_set <"\x00">
        fm_item_type <ini_group>
        fm_item_set <"LOADVALUES">
        fm_item_type <ini_key>
        fm_item_set <"DIALSTR">
        fm_item_type <ini_file>
        var_lookup_by_id <A, 50331658>
        uni_use_last_atom_string <fm_item_set>
        fm_ini_read_data
        uni_use_last_atom_string <man_replace_data>
        fm_end
      man_start_sibling <edit_view, "Tone String:">
        mat_title_width <30>
        mat_size <10, 1, 20>
        mat_relative_tag <8>
        mat_title_pos <left | center>
        fm_start
        fm_item_type <ini_data_type>
        fm_item_set <"\x00">
        fm_item_type <ini_group>
        fm_item_set <"LOADVALUES">
        fm_item_type <ini_key>
        fm_item_set <"TONESTR">
        fm_item_type <ini_file>
        var_lookup_by_id <A, 50331658>
        uni_use_last_atom_string <fm_item_set>
        fm_ini_read_data
        uni_use_last_atom_string <man_replace_data>
        fm_end
      man_start_sibling <edit_view, "Pulse String:">
        mat_title_width <30>
        mat_size <10, 1, 20>
        mat_relative_tag <9>
        mat_title_pos <left | center>
        fm_start
        fm_item_type <ini_data_type>
        fm_item_set <"\x00">
        fm_item_type <ini_group>
        fm_item_set <"LOADVALUES">
        fm_item_type <ini_key>
        fm_item_set <"PULSESTR">
        fm_item_type <ini_file>
        var_lookup_by_id <A, 50331658>
        uni_use_last_atom_string <fm_item_set>
        fm_ini_read_data
        uni_use_last_atom_string <man_replace_data>
        fm_end
      man_start_sibling <edit_view, "Inter Character Delay Value">
        mat_title_width <30>
        mat_size <10, 1, 5>
        mat_relative_tag <2>
        mat_title_pos <left | center>
        mat_bool_writeable <yes>
        fm_start
        fm_item_type <ini_data_type>
        fm_item_set <"\x00">
        fm_item_type <ini_group>
        fm_item_set <"LOADVALUES">
        fm_item_type <ini_key>
        fm_item_set <"ICDELAY">
        fm_item_type <ini_file>
        var_lookup_by_id <A, 50331658>
        uni_use_last_atom_string <fm_item_set>
        fm_ini_read_data
        uni_use_last_atom_string <man_replace_data>
        fm_end
      man_start_sibling <edit_view, "Wait Character Delay Value:">
        mat_title_width <30>
        mat_size <10, 1, 5>
        mat_relative_tag <3>
        mat_title_pos <left | center>
        mat_vertical_spacing <6>
        mat_bool_writeable <yes>
        fm_start
        fm_item_type <ini_data_type>
        fm_item_set <"\x00">
        fm_item_type <ini_group>
        fm_item_set <"LOADVALUES">
        fm_item_type <ini_key>
        fm_item_set <"DELAYVALUE">
        fm_item_type <ini_file>
        var_lookup_by_id <A, 50331658>
        uni_use_last_atom_string <fm_item_set>
        fm_ini_read_data
        uni_use_last_atom_string <man_replace_data>
        fm_end
      man_end_object
    man_end_object
  man_start_sibling <org_group, "">
    mat_orientation <hee>
    man_start_object <trigger, "OK">
      act_replace_select_action
          <
          uni_start_stream
            fm_start
            fm_item_type <ini_data_type>
            fm_item_set <"\x00">
            fm_item_type <ini_group>
            fm_item_set <"LOADVALUES">
            fm_item_type <ini_file>
            var_lookup_by_id <A, 50331658>
            uni_use_last_atom_string <fm_item_set>
            de_start_extraction <0>
            fm_item_type <ini_key>
            fm_item_set <"DIALSTR">
            man_set_context_relative <1>
            de_get_data_pointer
            uni_use_last_atom_string <fm_ini_write_data>
            fm_item_set <"TONESTR">
            man_change_context_relative <8>
            de_get_data_pointer
            uni_use_last_atom_string <fm_ini_write_data>
            fm_item_set <"PULSESTR">
            man_change_context_relative <9>
            de_get_data_pointer
            uni_use_last_atom_string <fm_ini_write_data>
            fm_item_type <ini_data_type>
            fm_item_set <01x>
            fm_item_type <ini_key>
            fm_item_set <"ICDELAY">
            man_change_context_relative <2>
            de_get_data_pointer
            uni_convert_last_atom_string <00x>
            uni_use_last_atom_value <fm_ini_write_data>
            fm_item_set <"DELAYVALUE">
            man_change_context_relative <3>
            de_get_data_pointer
            uni_convert_last_atom_string <00x>
            uni_use_last_atom_value <fm_ini_write_data>
            man_end_context
            de_end_extraction
            fm_end
            man_end_context
            man_set_context_globalid <40-10737>
            man_set_context_relative <1>
            man_get_index_by_title <"Custom Modem Profile">
            uni_use_last_atom_value <mat_value>
            man_update_display
            man_end_context
            man_set_context_globalid <40-10796>
            man_close_update
          uni_end_stream
          >
      man_start_sibling <trigger, "Cancel">
        act_replace_select_action
            <
            uni_start_stream <00x>
              man_close_update
            uni_end_stream <00x>
            >
        man_start_sibling <trigger, "Help">
          mat_bool_invisible <yes>
        man_end_object
      man_end_object
      man_update_display
      uni_wait_off
    uni_end_stream <00x>
